<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nano Banana - AI å›¾åƒç”Ÿæˆå™¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: #0a0a0a;
            color: #ffffff;
            min-height: 100vh;
        }
        
        /* Header */
        header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem 2rem;
            border-bottom: 1px solid #1a1a1a;
        }
        
        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: #10b981;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        nav {
            display: flex;
            gap: 1.5rem;
        }
        
        nav button {
            background: none;
            border: none;
            color: #888;
            cursor: pointer;
            font-size: 1rem;
        }
        
        nav button:hover {
            color: #10b981;
        }
        
        .header-actions {
            display: flex;
            gap: 1rem;
            align-items: center;
        }
        
        .btn-primary {
            background-color: #10b981;
            color: white;
            border: none;
            padding: 0.5rem 1.5rem;
            border-radius: 0.5rem;
            cursor: pointer;
            font-size: 1rem;
        }
        
        .btn-secondary {
            background-color: transparent;
            color: white;
            border: 1px solid #333;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            cursor: pointer;
            font-size: 1rem;
        }
        
        /* Mode Selector */
        .mode-selector {
            display: flex;
            gap: 1rem;
            padding: 2rem;
            justify-content: center;
        }
        
        .mode-btn {
            flex: 1;
            max-width: 400px;
            padding: 1rem 2rem;
            border-radius: 0.5rem;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.2s;
        }
        
        .mode-btn.active {
            background-color: #10b981;
            border: none;
            color: white;
        }
        
        .mode-btn:not(.active) {
            background-color: transparent;
            border: 1px solid #10b981;
            color: #10b981;
        }
        
        /* Main Content */
        .main-content {
            display: flex;
            gap: 2rem;
            padding: 0 2rem 2rem;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .left-panel {
            flex: 1;
        }
        
        .right-panel {
            width: 350px;
        }
        
        .card {
            background-color: #111111;
            border-radius: 1rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
        }
        
        /* Quick Prompts */
        .quick-prompts {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.75rem;
        }
        
        .prompt-btn {
            padding: 0.5rem;
            background-color: transparent;
            border: 1px solid #333;
            border-radius: 0.5rem;
            color: #888;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            transition: all 0.2s;
        }
        
        .prompt-btn:hover {
            border-color: #10b981;
            color: #10b981;
        }
        
        /* Style Buttons */
        .style-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.75rem;
        }
        
        .style-btn {
            padding: 0.75rem;
            border: 1px solid #333;
            border-radius: 0.5rem;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s;
            background-color: transparent;
            color: #888;
        }
        
        .style-btn.active {
            background-color: rgba(16, 185, 129, 0.1);
            border-color: #10b981;
            color: #10b981;
        }
        
        /* Text Area */
        textarea {
            width: 100%;
            background-color: #1a1a1a;
            border: 1px solid #333;
            border-radius: 0.5rem;
            padding: 1rem;
            color: white;
            font-size: 1rem;
            resize: vertical;
            font-family: inherit;
        }
        
        textarea:focus {
            outline: none;
            border-color: #10b981;
        }
        
        /* Range Slider */
        input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: #1a1a1a;
            outline: none;
            -webkit-appearance: none;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #10b981;
            cursor: pointer;
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(16, 185, 129, 0.5);
        }
        
        /* Generate Button */
        .generate-btn {
            width: 100%;
            padding: 1rem;
            background-color: #10b981;
            color: white;
            border: none;
            border-radius: 0.5rem;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        
        .generate-btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }
        
        .credits {
            background-color: rgba(255,255,255,0.2);
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.9rem;
        }
        
        /* Result */
        .result {
            padding: 2rem;
            max-width: 1400px;
            margin: 0 auto;
            text-align: center;
        }
        
        .result img {
            max-width: 100%;
            max-height: 600px;
            border-radius: 1rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.5);
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div style="display: flex; align-items: center; gap: 2rem;">
            <h1 class="logo">ğŸŒ Nano Banana</h1>
            <nav>
                <button>åŠŸèƒ½ç‰¹ç‚¹</button>
                <button>å®šä»·</button>
                <button>æ¡ˆä¾‹å±•ç¤º</button>
            </nav>
        </div>
        <div class="header-actions">
            <span>ä¸­æ–‡</span>
            <button class="btn-primary">è·å– Nano Banana â†’</button>
            <button class="btn-secondary">ç™»å½•</button>
        </div>
    </header>

    <!-- Mode Selector -->
    <div class="mode-selector">
        <button class="mode-btn" onclick="setMode('upload')">ğŸ“· é€šè¿‡å¯¹è¯ç¼–è¾‘å›¾åƒ</button>
        <button class="mode-btn active" onclick="setMode('text')">âœ¨ æ–‡ç”Ÿå›¾æ¨¡å¼</button>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Left Panel -->
        <div class="left-panel">
            <div style="display: flex; gap: 2rem;">
                <!-- Quick Prompts -->
                <div class="card" style="min-width: 200px;">
                    <h3 style="font-size: 1.1rem; margin-bottom: 1rem;">âš¡ çµæ„Ÿå¯å‘</h3>
                    <p style="color: #666; font-size: 0.9rem; margin-bottom: 1rem;">
                        ç‚¹å‡»ä¸‹æ–¹æ ‡ç­¾å¿«é€Ÿå¼€å§‹åˆ›ä½œ
                    </p>
                    <div class="quick-prompts">
                        <button class="prompt-btn" onclick="setPrompt('ç¾ä¸½çš„è‡ªç„¶é£æ™¯')">
                            <span>ğŸ”ï¸</span><span>é£æ™¯</span>
                        </button>
                        <button class="prompt-btn" onclick="setPrompt('ä¸“ä¸šäººåƒæ‘„å½±')">
                            <span>ğŸ‘¥</span><span>äººåƒ</span>
                        </button>
                        <button class="prompt-btn" onclick="setPrompt('ç°ä»£å»ºç­‘è®¾è®¡')">
                            <span>ğŸ›ï¸</span><span>å»ºç­‘</span>
                        </button>
                        <button class="prompt-btn" onclick="setPrompt('æŠ½è±¡è‰ºæœ¯ä½œå“')">
                            <span>ğŸ¨</span><span>è‰ºæœ¯</span>
                        </button>
                        <button class="prompt-btn" onclick="setPrompt('ç§‘å¹»åœºæ™¯')">
                            <span>ğŸš€</span><span>ç§‘å¹»</span>
                        </button>
                        <button class="prompt-btn" onclick="setPrompt('è‡ªç„¶ç”Ÿæ€')">
                            <span>ğŸŒ¿</span><span>è‡ªç„¶</span>
                        </button>
                        <button class="prompt-btn" onclick="setPrompt('å¯çˆ±çš„åŠ¨ç‰©')">
                            <span>ğŸ¾</span><span>åŠ¨ç‰©</span>
                        </button>
                        <button class="prompt-btn" onclick="setPrompt('åˆ›æ„è®¾è®¡')">
                            <span>ğŸ’¡</span><span>åˆ›æ„</span>
                        </button>
                    </div>
                </div>

                <!-- Text Input -->
                <div class="card" style="flex: 1;">
                    <h3 style="font-size: 1.1rem; margin-bottom: 1rem;">AI å›¾åƒç”Ÿæˆ</h3>
                    <h4 style="font-size: 1rem; margin-bottom: 1rem; color: #888;">
                        æè¿°ä½ æƒ³è¦ç”Ÿæˆçš„å›¾åƒ
                    </h4>
                    <textarea 
                        id="prompt"
                        placeholder="ä¾‹å¦‚: ä¸€åªå¯çˆ±çš„å¡é€šçŒ«å’ªï¼Œååœ¨å½©è™¹ä¸Šï¼Œæ¢¦å¹»é£æ ¼ï¼ŒæŸ”å’Œçš„è‰²å½©..."
                        style="min-height: 200px;"
                    ></textarea>
                    <div style="margin-top: 0.5rem; text-align: right; color: #666; font-size: 0.9rem;">
                        <span id="charCount">0</span>/5000
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Panel -->
        <div class="right-panel">
            <div class="card">
                <h3 style="font-size: 1.1rem; margin-bottom: 1.5rem; color: #10b981;">
                    âœ¨ AI å›¾åƒç¼–è¾‘
                </h3>

                <!-- Style Options -->
                <div style="margin-bottom: 1.5rem;">
                    <h4 style="font-size: 0.9rem; margin-bottom: 1rem; color: #888;">å¿«é€Ÿé£æ ¼</h4>
                    <div class="style-grid">
                        <button class="style-btn active" onclick="setStyle('enhance')">ğŸ” å¢å¼ºç»†èŠ‚</button>
                        <button class="style-btn" onclick="setStyle('artistic')">ğŸ¨ è‰ºæœ¯é£æ ¼</button>
                        <button class="style-btn" onclick="setStyle('anime')">âœ¨ åŠ¨æ¼«é£æ ¼</button>
                        <button class="style-btn" onclick="setStyle('photo')">ğŸ“· å†™å®ç…§ç‰‡</button>
                    </div>
                </div>

                <!-- Image Count -->
                <div style="margin-bottom: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                        <span style="font-size: 0.9rem; color: #888;">ğŸ¯ ç”Ÿæˆæ•°é‡</span>
                        <span style="font-size: 0.9rem; color: #10b981;" id="imageCount">1 å¼ </span>
                    </div>
                    <input type="range" min="1" max="4" value="1" id="countSlider">
                    <div style="display: flex; justify-content: space-between; margin-top: 0.5rem; font-size: 0.8rem; color: #666;">
                        <span>1 å¼ </span>
                        <span>2 å¼ </span>
                        <span>3 å¼ </span>
                        <span>4 å¼ </span>
                    </div>
                    <p style="font-size: 0.8rem; color: #666; margin-top: 0.5rem;">
                        ğŸ’¡ æç¤ºï¼šæè¿°è¶Šè¯¦ç»†ï¼Œç”Ÿæˆçš„å›¾åƒè¶Šæ¥è¿‘ä½ çš„æƒ³è±¡
                    </p>
                </div>

                <!-- Generate Button -->
                <button class="generate-btn" onclick="generate()">
                    ğŸ¨ å¼€å§‹ç”Ÿæˆ (1 å¼ )
                    <span class="credits">ğŸ’ 4 ç§¯åˆ†</span>
                </button>

                <p style="text-align: center; margin-top: 1rem; font-size: 0.9rem; color: #ef4444;" id="error">
                    è¯·è¾“å…¥è‡³å°‘ 3 ä¸ªå­—ç¬¦çš„æè¿°
                </p>
            </div>
        </div>
    </div>

    <!-- Result -->
    <div id="result" class="result" style="display: none;">
        <h3 style="font-size: 1.5rem; margin-bottom: 1rem;">ğŸ‰ ç”Ÿæˆç»“æœ</h3>
        <div id="resultContent"></div>
    </div>

    <script>
        const API_KEY = 'sk-uq5N8kDcsnbGcskR0PknOVLecd5LWYCBzsJLHiHDZ0gLGoU5';
        const MODEL = 'gemini-2.5-flash-image-preview';
        const SAMPLE_IMAGE = "/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwCwAA8A/9k=";

        let currentMode = 'text';
        let currentStyle = 'enhance';
        let imageCount = 1;

        // Update character count
        document.getElementById('prompt').addEventListener('input', (e) => {
            document.getElementById('charCount').textContent = e.target.value.length;
            updateError();
        });

        // Update slider
        document.getElementById('countSlider').addEventListener('input', (e) => {
            imageCount = e.target.value;
            document.getElementById('imageCount').textContent = imageCount + ' å¼ ';
            document.querySelector('.generate-btn').innerHTML = `
                ğŸ¨ å¼€å§‹ç”Ÿæˆ (${imageCount} å¼ )
                <span class="credits">ğŸ’ ${imageCount * 4} ç§¯åˆ†</span>
            `;
        });

        function setMode(mode) {
            currentMode = mode;
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            updateError();
        }

        function setStyle(style) {
            currentStyle = style;
            document.querySelectorAll('.style-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        function setPrompt(text) {
            document.getElementById('prompt').value = text;
            document.getElementById('charCount').textContent = text.length;
            updateError();
        }

        function updateError() {
            const prompt = document.getElementById('prompt').value;
            const error = document.getElementById('error');
            if (currentMode === 'text' && prompt.length < 3) {
                error.style.display = 'block';
            } else {
                error.style.display = 'none';
            }
        }

        async function generate() {
            const prompt = document.getElementById('prompt').value;
            
            if (currentMode === 'text' && prompt.length < 3) {
                alert('è¯·è¾“å…¥è‡³å°‘3ä¸ªå­—ç¬¦çš„æè¿°');
                return;
            }

            const btn = document.querySelector('.generate-btn');
            btn.disabled = true;
            btn.innerHTML = 'â³ ç”Ÿæˆä¸­...';

            try {
                const stylePrompts = {
                    enhance: 'å¢å¼ºç»†èŠ‚ï¼Œæé«˜ç”»è´¨',
                    artistic: 'è‰ºæœ¯é£æ ¼ï¼Œæ²¹ç”»æ•ˆæœ',
                    anime: 'åŠ¨æ¼«é£æ ¼ï¼ŒäºŒæ¬¡å…ƒ',
                    photo: 'å†™å®ç…§ç‰‡ï¼ŒçœŸå®æ„Ÿ'
                };

                const finalPrompt = `${stylePrompts[currentStyle]} ${prompt}`;

                const response = await fetch(
                    `https://apipro.maynor1024.live/v1beta/models/${MODEL}:generateContent?key=${API_KEY}`,
                    {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            contents: [{
                                role: "user",
                                parts: [
                                    { text: finalPrompt },
                                    {
                                        inlineData: {
                                            mimeType: "image/jpeg",
                                            data: SAMPLE_IMAGE
                                        }
                                    }
                                ]
                            }],
                            generationConfig: {
                                temperature: 0.7,
                                maxOutputTokens: 4096,
                                responseModalities: ["TEXT", "IMAGE"]
                            }
                        })
                    }
                );

                const data = await response.json();
                
                if (!response.ok) {
                    alert('ç”Ÿæˆå¤±è´¥: ' + (data.error?.message || 'æœªçŸ¥é”™è¯¯'));
                } else {
                    showResult(data);
                }
            } catch (error) {
                alert('ç½‘ç»œé”™è¯¯: ' + error.message);
            } finally {
                btn.disabled = false;
                btn.innerHTML = `
                    ğŸ¨ å¼€å§‹ç”Ÿæˆ (${imageCount} å¼ )
                    <span class="credits">ğŸ’ ${imageCount * 4} ç§¯åˆ†</span>
                `;
            }
        }

        function showResult(data) {
            const resultDiv = document.getElementById('result');
            const resultContent = document.getElementById('resultContent');
            
            resultDiv.style.display = 'block';
            
            if (data.candidates && data.candidates[0]) {
                const parts = data.candidates[0].content.parts;
                const imagePart = parts.find(p => p.inlineData);
                
                if (imagePart) {
                    resultContent.innerHTML = `
                        <img src="data:${imagePart.inlineData.mimeType};base64,${imagePart.inlineData.data}" 
                             alt="Generated Image">
                    `;
                } else {
                    const textPart = parts.find(p => p.text);
                    resultContent.innerHTML = `
                        <div class="card">
                            <p>${textPart?.text || 'ç”Ÿæˆå®Œæˆ'}</p>
                        </div>
                    `;
                }
            }
            
            // Scroll to result
            resultDiv.scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>